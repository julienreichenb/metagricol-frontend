import { mapGetters, mapActions } from 'vuex'
export default {
    computed: {
        ...mapGetters('exploitation', ['exploitations', 'selectedExploitations']),
        hasSelection() {
            return this.selectedExploitations.length > 0
        },
    },
    methods: {
        async getExploitationsSummary() {
            await this.axios.get('exploitations/summary')
                .then((res) => {
                    const temp = []
                    res.data.map((c) => {
                        c.selected = false
                        temp.push(c)
                    })
                    this.setExploitations(temp)
                })
                .catch((err) => {
                    console.log(err)
                })
        },
        isSelected(id) {
            return this.selectedExploitations.some((e) => e.idexploitation === id)
        },
        getExploitation(idexploitation) {
            return this.exploitations.find((e) => e.idexploitation === idexploitation)
        },
        ...mapActions('exploitation', ['setExploitations', 'selectExploitation', 'selectExploitations', 'selectAll', 'clearSelection'])
    }
}